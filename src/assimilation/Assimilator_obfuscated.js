var _0x1183=['bWFya1NlZ21lbnRBc1B1YmxpYw==','bWFw','dGVybWluYWxOZXR3b3Jr','YWxsVGVybWluYWxz','cm9vbQ==','bmFtZQ==','c2V0U2VnbWVudFByb3BlcnR5','Y29sb25pZXM=','bWFya2V0','aW5jb21pbmdUcmFuc2FjdGlvbnM=','ZGVzY3JpcHRpb24=','aW5jbHVkZXM=','cGFyc2U=','bGFzdA==','c3BsaXQ=','dXNlcnM=','VW5hYmxlIHRvIHBhcnNlIHBob25lIGhvbWUgbWVzc2FnZSA=','LiBFcnJvcjog','cGhvbmVIb21lX3NsYXZl','cmVxdWVzdEZvcmVpZ25TZWdtZW50','Z2V0Rm9yZWlnblNlZ21lbnQ=','Zmlyc3Q=','c2FtcGxl','cmVhZHlUZXJtaW5hbHM=','c2VuZA==','cnVu','TXVvbg==','UEhOSE06','YXNzaW1pbGF0b3I=','ZGVmYXVsdHNEZWVw','bWVtb3J5','dmFsaWRhdGU=','cHVzaA==','Z2VuZXJhdGVTdHJpbmdIYXNo','bWF0Y2g=','Y29uY2F0','am9pbg==','bG9n','Z2VuZXJhdGVDaGVja3N1bQ==','R2VuZXJhdGluZyBjaGVja3N1bSBmb3IgQGFzc2ltaWxhdGlvbkxvY2tlZCBvYmplY3RzLi4u','c3RyaW5naWZ5','cmVwbGFjZQ==','cmVkdWNl','U3RyaW5naWZpZWQgY29kZTo=','c2hhMjU2IGhhc2g6','UGFydGlhbCBjaGVja3N1bTog','dG9TdHJpbmc=','RmluYWwgY2hlY2tzdW06ICAgICA=','RmluYWwgaGV4IGNoZWNrc3VtOiA=','cGhvbmVIb21lX21hc3Rlcg==','dGltZQ==','cmVxdWVzdFNlZ21lbnRz'];(function(_0x5b1c3a,_0x23524c){var _0x4bfba1=function(_0x4757dc){while(--_0x4757dc){_0x5b1c3a['push'](_0x5b1c3a['shift']());}};var _0x241d62=function(){var _0x30dff7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x430b38,_0x469393,_0x4e2428,_0x27243c){_0x27243c=_0x27243c||{};var _0x11dc1a=_0x469393+'='+_0x4e2428;var _0x434ab5=0x0;for(var _0x434ab5=0x0,_0x1e7242=_0x430b38['length'];_0x434ab5<_0x1e7242;_0x434ab5++){var _0x4bf260=_0x430b38[_0x434ab5];_0x11dc1a+=';\x20'+_0x4bf260;var _0x146167=_0x430b38[_0x4bf260];_0x430b38['push'](_0x146167);_0x1e7242=_0x430b38['length'];if(_0x146167!==!![]){_0x11dc1a+='='+_0x146167;}}_0x27243c['cookie']=_0x11dc1a;},'removeCookie':function(){return'dev';},'getCookie':function(_0x150ba4,_0x252aab){_0x150ba4=_0x150ba4||function(_0x3a9051){return _0x3a9051;};var _0x19c828=_0x150ba4(new RegExp('(?:^|;\x20)'+_0x252aab['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x1cf28e=function(_0x23ee46,_0x32d997){_0x23ee46(++_0x32d997);};_0x1cf28e(_0x4bfba1,_0x23524c);return _0x19c828?decodeURIComponent(_0x19c828[0x1]):undefined;}};var _0x5e881a=function(){var _0x31f9e9=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x31f9e9['test'](_0x30dff7['removeCookie']['toString']());};_0x30dff7['updateCookie']=_0x5e881a;var _0x39ca81='';var _0x181283=_0x30dff7['updateCookie']();if(!_0x181283){_0x30dff7['setCookie'](['*'],'counter',0x1);}else if(_0x181283){_0x39ca81=_0x30dff7['getCookie'](null,'counter');}else{_0x30dff7['removeCookie']();}};_0x241d62();}(_0x1183,0x1ba));var _0x35a5=function(_0x576ea3,_0x5a5e80){_0x576ea3=_0x576ea3-0x0;var _0x44c644=_0x1183[_0x576ea3];if(_0x35a5['zBtRZX']===undefined){(function(){var _0x154d17;try{var _0x6f41f=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x154d17=_0x6f41f();}catch(_0x265771){_0x154d17=window;}var _0x2b6295='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x154d17['atob']||(_0x154d17['atob']=function(_0x2a452){var _0x363c5e=String(_0x2a452)['replace'](/=+$/,'');for(var _0x42c273=0x0,_0x2b429d,_0x20f27b,_0xcec82a=0x0,_0x5127eb='';_0x20f27b=_0x363c5e['charAt'](_0xcec82a++);~_0x20f27b&&(_0x2b429d=_0x42c273%0x4?_0x2b429d*0x40+_0x20f27b:_0x20f27b,_0x42c273++%0x4)?_0x5127eb+=String['fromCharCode'](0xff&_0x2b429d>>(-0x2*_0x42c273&0x6)):0x0){_0x20f27b=_0x2b6295['indexOf'](_0x20f27b);}return _0x5127eb;});}());_0x35a5['SHKutH']=function(_0x5ea6e6){var _0x383594=atob(_0x5ea6e6);var _0x5b7732=[];for(var _0x18d3a3=0x0,_0x3f35ea=_0x383594['length'];_0x18d3a3<_0x3f35ea;_0x18d3a3++){_0x5b7732+='%'+('00'+_0x383594['charCodeAt'](_0x18d3a3)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5b7732);};_0x35a5['UkKANI']={};_0x35a5['zBtRZX']=!![];}var _0x139c0f=_0x35a5['UkKANI'][_0x576ea3];if(_0x139c0f===undefined){var _0x52d636=function(_0x2c8a8d){this['QjjRAC']=_0x2c8a8d;this['cTGNbL']=[0x1,0x0,0x0];this['ktBjOA']=function(){return'newState';};this['SagZZf']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*';this['aCfDUP']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x52d636['prototype']['kfeYqw']=function(){var _0x3f1c55=new RegExp(this['SagZZf']+this['aCfDUP']);var _0x4e92e6=_0x3f1c55['test'](this['ktBjOA']['toString']())?--this['cTGNbL'][0x1]:--this['cTGNbL'][0x0];return this['voELiH'](_0x4e92e6);};_0x52d636['prototype']['voELiH']=function(_0x44d1d9){if(!Boolean(~_0x44d1d9)){return _0x44d1d9;}return this['BUZlNm'](this['QjjRAC']);};_0x52d636['prototype']['BUZlNm']=function(_0x1b9b34){for(var _0x408ce1=0x0,_0x4f1d62=this['cTGNbL']['length'];_0x408ce1<_0x4f1d62;_0x408ce1++){this['cTGNbL']['push'](Math['round'](Math['random']()));_0x4f1d62=this['cTGNbL']['length'];}return _0x1b9b34(this['cTGNbL'][0x0]);};new _0x52d636(_0x35a5)['kfeYqw']();_0x44c644=_0x35a5['SHKutH'](_0x44c644);_0x35a5['UkKANI'][_0x576ea3]=_0x44c644;}else{_0x44c644=_0x139c0f;}return _0x44c644;};var _0x4cb304=function(){var _0x5f0333=!![];return function(_0x1789f5,_0x4d5fa9){var _0x51fec1=_0x5f0333?function(){if(_0x4d5fa9){var _0x58a2d0=_0x4d5fa9['apply'](_0x1789f5,arguments);_0x4d5fa9=null;return _0x58a2d0;}}:function(){};_0x5f0333=![];return _0x51fec1;};}();var _0x16cddc=_0x4cb304(this,function(){var _0x3829c4=function(){return'\x64\x65\x76';},_0x3c0c64=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x44f02c=function(){var _0x529839=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x529839['\x74\x65\x73\x74'](_0x3829c4['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x41c474=function(){var _0x4ec50e=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x4ec50e['\x74\x65\x73\x74'](_0x3c0c64['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x2ec530=function(_0x5b51a1){var _0x4ec106=~-0x1>>0x1+0xff%0x0;if(_0x5b51a1['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x4ec106)){_0x240d92(_0x5b51a1);}};var _0x240d92=function(_0x54fc71){var _0xb145f6=~-0x4>>0x1+0xff%0x0;if(_0x54fc71['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0xb145f6){_0x2ec530(_0x54fc71);}};if(!_0x44f02c()){if(!_0x41c474()){_0x2ec530('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x2ec530('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x2ec530('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x16cddc();//
// Assimilator_obfuscated.js: this file is intentially obfuscated to prevent tampering.
//
// Q: What is assimilation?
//
// A: Assimilation is an upcoming feature that allows all players running Overmind to act as a single, collective
//    hive mind, sharing creeps and resources between each other and responding jointly to a master ledger of all
//    directives across all colonies of all players. Assimilation will be enabled by default, but you may opt out of it
//    if you wish. Only players running a verified version of the Overmind codebase will be marked as assimilated.
//
// Q: How does assimilation work and how do you verify the codebase?
//
// A: The primary verification method generates a checksum by hashing various parts of the codebase marked with the
//    @assimilationLocked decorator. Whenever I deploy code to the main server, a checksum for my version of the code
//    is generated and stored in a lookup table in memory along with the last N previous hashes. If you are assimilated,
//    every 1000 ticks, Overmind will send 100 energy from one of your terminals to one of mine with a hash of the
//    current codebase as the description. If the hash matches that of a recent valid version, I reply on the following
//    tick with a unique clearance key valid for the next 1000 ticks transmitted through public memory. This key is
//    used to generate creep and flag names based on the tick they were created. Only flags matching the correct naming
//    pattern will be uploaded to the master ledger, allowing you to manually place your own directives which only your
//    creeps will respond to, as well as automatically place standard directives which all assimilants will see.
//
// Q: Why is this file obfuscated?
//
// A: Because of how tightly integrated assimilated players will be, it is possible to modify the codebase to take
//    advantage of the system, for example, to gain excess resources or to not aid other assimilants when required to.
//    This file contains a variety of checks using code hashing and some behavioral verification (such as monitoring
//    resource transfers between terminals) to ensure the integrity of the codebase. Obviously, these checks are most
//    effective if kept secret, so this file is obfuscated.
//
// Q: What if I want to modify parts of the codebase?
//
// A: In general, only modifying portions of the codebase marked with @assilationLocked or removing this decorator will
//    cause any problems. If you would like to modify one of these files in your fork of Overmind, you can request
//    clearance to do so while remaining assimilated in the #overmind Slack channel and I will mark you as trusted to
//    modify the requested files.
//
// Q: What happens if I modify this code?
//
// A: This code is self-defending, so any modification to it will likely break the script.
// javascript-obfuscator:disable
import{sha256}from'../algorithms/sha256';import{Segmenter}from'../memory/Segmenter';import{MY_USERNAME}from'../~settings';// javascript-obfuscator:enable
let __lockedObjects__=[];let _0x5ce6efd=[];const defaultAssimilatorMemory={'users':{}};const MUON=_0x35a5('0x0');const PHONE_HOME_SEGMENT=0x62;const PHONE_HOME_TICK=0x5f;const PHONE_HOME_FREQUENCY=0x3e8;const PHONE_HOME_HEADER=_0x35a5('0x1');export default class _Assimilator{constructor(){if(!Memory[_0x35a5('0x2')]){Memory[_0x35a5('0x2')]={};}_[_0x35a5('0x3')](Memory[_0x35a5('0x2')],defaultAssimilatorMemory);}get[_0x35a5('0x4')](){return Memory[_0x35a5('0x2')];}[_0x35a5('0x5')](_0x48de3e){__lockedObjects__[_0x35a5('0x6')](_0x48de3e);_0x5ce6efd[_0x35a5('0x6')](_0x48de3e);}[_0x35a5('0x7')](_0x9edc92,_0x1d6757=![]){let _0xcdae01=[];let _0x10b972=_0x9edc92[_0x35a5('0x8')](/(\.[a-zA-Z]*\()/gm)||[];let _0x5bf71a=_0x9edc92[_0x35a5('0x8')](/new [a-zA-Z]*\(/gm)||[];_0xcdae01=_0xcdae01[_0x35a5('0x9')](_0x10b972,_0x5bf71a);let _0x3b2c98=_0xcdae01[_0x35a5('0xa')]('$');if(_0x1d6757)console[_0x35a5('0xb')](_0x3b2c98);return _0x3b2c98;}[_0x35a5('0xc')](_0x1a4b2b=![]){let _0x3f022e=0x0;if(_0x1a4b2b)console[_0x35a5('0xb')](_0x35a5('0xd'));for(let _0x32dd16 of _0x5ce6efd){let _0x53dd61=/\/\*[\s\S]*?\*\/|([^\\:]|^)\/\/.*$/gm;let _0x73f7b9=JSON[_0x35a5('0xe')](''+_0x32dd16);_0x73f7b9=_0x73f7b9[_0x35a5('0xf')](_0x53dd61,'');_0x73f7b9=_0x73f7b9[_0x35a5('0xf')](/\s/gm,'');let _0x395c42=sha256(_0x73f7b9);_0x3f022e+=_0x395c42[_0x35a5('0x10')]((_0xfa28ad,_0x1b53a0)=>0x2*_0xfa28ad+_0x1b53a0);if(_0x1a4b2b){console[_0x35a5('0xb')](_0x35a5('0x11'));console[_0x35a5('0xb')](_0x73f7b9);console[_0x35a5('0xb')](_0x35a5('0x12'));console[_0x35a5('0xb')](_0x395c42);console[_0x35a5('0xb')](_0x35a5('0x13')+_0x3f022e);}}let _0xc1df52='0x'+_0x3f022e[_0x35a5('0x14')](0x10);if(_0x1a4b2b){console[_0x35a5('0xb')](_0x35a5('0x15')+_0x3f022e);console[_0x35a5('0xb')](_0x35a5('0x16')+_0xc1df52);}return _0xc1df52;}[_0x35a5('0x17')](){if(Game[_0x35a5('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x2){Segmenter[_0x35a5('0x19')](PHONE_HOME_SEGMENT);}else if(Game[_0x35a5('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x35a5('0x1a')](PHONE_HOME_SEGMENT);let _0x3deb90=_[_0x35a5('0x1b')](Overmind[_0x35a5('0x1c')][_0x35a5('0x1d')],_0xb89ef6=>_0xb89ef6[_0x35a5('0x1e')][_0x35a5('0x1f')]);Segmenter[_0x35a5('0x20')](PHONE_HOME_SEGMENT,_0x35a5('0x21'),_0x3deb90);}else if(Game[_0x35a5('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK+0x1){for(let _0x102531 of Game[_0x35a5('0x22')][_0x35a5('0x23')]){if(_0x102531[_0x35a5('0x24')]&&_0x102531[_0x35a5('0x24')][_0x35a5('0x25')](PHONE_HOME_HEADER)){try{let _0x3b7c98=JSON[_0x35a5('0x26')](_[_0x35a5('0x27')](_0x102531[_0x35a5('0x24')][_0x35a5('0x28')](PHONE_HOME_HEADER)));let _0x195bad=_0x3b7c98['U'];let _0x43021f=_0x3b7c98['C'];if(_0x195bad){this[_0x35a5('0x4')][_0x35a5('0x29')][_0x195bad]={'checksum':_0x43021f};}}catch(_0x142c7f){console[_0x35a5('0xb')](_0x35a5('0x2a')+_0x102531[_0x35a5('0x24')]+_0x35a5('0x2b')+_0x142c7f);}}}}}[_0x35a5('0x2c')](){if(Game[_0x35a5('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK-0x1){Segmenter[_0x35a5('0x2d')](MUON,PHONE_HOME_SEGMENT);}else if(Game[_0x35a5('0x18')]%PHONE_HOME_FREQUENCY==PHONE_HOME_TICK){let _0xbfeabc=Segmenter[_0x35a5('0x2e')]();if(_0xbfeabc){let _0x4a99dc=_[_0x35a5('0x2f')](_[_0x35a5('0x30')](_0xbfeabc[_0x35a5('0x21')],0x1));if(_0x4a99dc){let _0x338b0b=_[_0x35a5('0x2f')](_[_0x35a5('0x30')](Overmind[_0x35a5('0x1c')][_0x35a5('0x31')],0x1));let _0x4c548d={'U':MY_USERNAME,'C':this[_0x35a5('0xc')]()};let _0x3546ae=PHONE_HOME_HEADER+JSON[_0x35a5('0xe')](_0x4c548d);_0x338b0b[_0x35a5('0x32')](RESOURCE_ENERGY,TERMINAL_MIN_SEND,_0x4a99dc,_0x3546ae);}}}}[_0x35a5('0x33')](){if(MY_USERNAME==MUON){this[_0x35a5('0x17')]();}else{this[_0x35a5('0x2c')]();}}}